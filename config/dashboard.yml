# config/dashboard.yml - 单规则方案
http:
  routers:
    dashboard-router:
      entryPoints: [web]
      # 使用正则表达式匹配 /newpage 和 /newpage/ 及所有子路径
      rule: "Host(`testtraefik1-170350-7-1365954890.sh.run.tcloudbase.com`) && PathRegexp(`^/newpage(/.*)?$`)"
      middlewares:
        - gzip
      service: dashboard-service
      priority: 1000

  services:
    dashboard-service:
      loadBalancer:
        servers:
          - url: "http://dyzfbakk.dashboard.qhph39ns.34m0njpv.com:3000"

  middlewares:
    gzip:
      compress: {}